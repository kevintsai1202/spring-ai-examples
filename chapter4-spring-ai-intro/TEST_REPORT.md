# ç¬¬å››ç« å¾Œç«¯å°ˆæ¡ˆç·¨è­¯æ¸¬è©¦å ±å‘Š

> **æ¸¬è©¦æ—¥æœŸ**ï¼š2025-10-24
> **æ¸¬è©¦é …ç›®**ï¼šMaven ç·¨è­¯æ¸¬è©¦
> **æ¸¬è©¦çµæœ**ï¼šâœ… æˆåŠŸ

---

## ğŸ“‹ æ¸¬è©¦æ‘˜è¦

| é …ç›® | ç‹€æ…‹ | è©³ç´°èªªæ˜ |
|------|------|----------|
| **å°ˆæ¡ˆçµæ§‹** | âœ… é€šé | æ‰€æœ‰ç›®éŒ„çµæ§‹æ­£ç¢º |
| **Java åŸå§‹ç¢¼** | âœ… é€šé | 6 å€‹ Java æª”æ¡ˆå…¨éƒ¨å­˜åœ¨ |
| **é…ç½®æª”æ¡ˆ** | âœ… é€šé | application.yml æ­£ç¢ºé…ç½® |
| **Maven ç·¨è­¯** | âœ… é€šé | æ‰€æœ‰é¡åˆ¥æˆåŠŸç·¨è­¯ |
| **è³‡æºè¤‡è£½** | âœ… é€šé | application.yml æ­£ç¢ºè¤‡è£½åˆ° target/classes |

---

## âœ… ç·¨è­¯æˆåŠŸæ¸…å–®

### Java é¡åˆ¥ç·¨è­¯çµæœ

æ‰€æœ‰ 6 å€‹ Java æª”æ¡ˆæˆåŠŸç·¨è­¯ç‚º class æª”æ¡ˆï¼š

```
âœ… SpringAiIntroApplication.class    - ä¸»æ‡‰ç”¨ç¨‹å¼
âœ… AiConfig.class                    - AI é…ç½®é¡åˆ¥
âœ… AiController.class                - åŸºæœ¬å°è©±æ§åˆ¶å™¨
âœ… StreamingAiController.class       - æµå¼è¼¸å‡ºæ§åˆ¶å™¨
âœ… ChatModelService.class            - ChatModel æœå‹™
âœ… ChatRequest.class                 - è«‹æ±‚ DTO
```

### è³‡æºæª”æ¡ˆè¤‡è£½çµæœ

```
âœ… application.yml                   - æ‡‰ç”¨é…ç½®æª”æ¡ˆ
```

---

## ğŸ”§ ç·¨è­¯ç’°å¢ƒ

### ä½¿ç”¨çš„å·¥å…·ç‰ˆæœ¬

- **Java**: JDK 21
- **Maven**: 3.9.11
- **Spring Boot**: 3.3.0
- **Spring AI**: 1.0.0-M4

### ç·¨è­¯æŒ‡ä»¤

```bash
cd "E:\Spring_AI_BOOK\code-examples\chapter4-spring-ai-intro"
mvn clean compile
```

---

## ğŸ“‚ ç·¨è­¯ç”¢å‡ºç›®éŒ„çµæ§‹

```
target/
â”œâ”€â”€ classes/
â”‚   â”œâ”€â”€ com/example/springai/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ AiConfig.class
â”‚   â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”‚   â”œâ”€â”€ AiController.class
â”‚   â”‚   â”‚   â””â”€â”€ StreamingAiController.class
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â””â”€â”€ ChatRequest.class
â”‚   â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”‚   â””â”€â”€ ChatModelService.class
â”‚   â”‚   â””â”€â”€ SpringAiIntroApplication.class
â”‚   â””â”€â”€ application.yml
â”œâ”€â”€ generated-sources/
â”œâ”€â”€ generated-test-sources/
â””â”€â”€ test-classes/
```

---

## ğŸ“ æ¸¬è©¦æ­¥é©Ÿè¨˜éŒ„

### æ­¥é©Ÿ 1: æª¢æŸ¥å°ˆæ¡ˆç›®éŒ„çµæ§‹ âœ…

```bash
cd "E:\Spring_AI_BOOK\code-examples\chapter4-spring-ai-intro"
ls -la
```

**çµæœ**ï¼š
- âœ… src/ ç›®éŒ„å­˜åœ¨
- âœ… pom.xml å­˜åœ¨
- âœ… README.md å­˜åœ¨
- âœ… .env.example å­˜åœ¨
- âœ… .gitignore å­˜åœ¨
- âœ… frontend-demo/ ç›®éŒ„å­˜åœ¨

### æ­¥é©Ÿ 2: æª¢æŸ¥ Java åŸå§‹ç¢¼ âœ…

```bash
find src/main/java -name "*.java" -type f
```

**çµæœ**ï¼šæ‰¾åˆ° 6 å€‹ Java æª”æ¡ˆï¼Œå…¨éƒ¨åœ¨æ­£ç¢ºä½ç½®

### æ­¥é©Ÿ 3: æª¢æŸ¥é…ç½®æª”æ¡ˆ âœ…

```bash
ls -la src/main/resources/
```

**çµæœ**ï¼šapplication.yml å­˜åœ¨ä¸”ä½ç½®æ­£ç¢º

### æ­¥é©Ÿ 4: åŸ·è¡Œ Maven ç·¨è­¯ âœ…

```bash
mvn clean compile
```

**çµæœ**ï¼š
- âœ… ç·¨è­¯æˆåŠŸ
- âœ… ç„¡éŒ¯èª¤è¨Šæ¯
- âœ… æ‰€æœ‰é¡åˆ¥æˆåŠŸç·¨è­¯

### æ­¥é©Ÿ 5: é©—è­‰ç·¨è­¯ç”¢å‡º âœ…

```bash
find target/classes -name "*.class" -type f
```

**çµæœ**ï¼š
- âœ… æ‰¾åˆ° 6 å€‹ class æª”æ¡ˆ
- âœ… å¥—ä»¶çµæ§‹æ­£ç¢º
- âœ… application.yml æ­£ç¢ºè¤‡è£½

---

## â­ï¸ ä¸‹ä¸€æ­¥æ¸¬è©¦å»ºè­°

### 1. åŸ·è¡Œå–®å…ƒæ¸¬è©¦

```bash
mvn test
```

### 2. å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼

éœ€è¦å…ˆè¨­å®š OpenAI API Keyï¼š

```bash
# Windows PowerShell
$env:OPENAI_API_KEY="sk-your-api-key-here"

# æˆ–å»ºç«‹ .env æª”æ¡ˆï¼ˆä¸å»ºè­°æäº¤åˆ° gitï¼‰
# ç„¶å¾ŒåŸ·è¡Œ
mvn spring-boot:run
```

### 3. æ¸¬è©¦ API ç«¯é»

æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å¾Œï¼ˆé è¨­ç«¯å£ 8080ï¼‰ï¼Œå¯æ¸¬è©¦ä»¥ä¸‹ç«¯é»ï¼š

#### åŸºæœ¬å°è©±æ¸¬è©¦

```bash
curl "http://localhost:8080/api/ai/chat?prompt=Hello"
```

#### ç³»çµ±æç¤ºè©æ¸¬è©¦

```bash
curl -X POST "http://localhost:8080/api/ai/chat/system" \
  -H "Content-Type: application/json" \
  -d '{
    "systemMessage": "ä½ æ˜¯ä¸€å€‹Javaå°ˆå®¶",
    "userMessage": "ä»€éº¼æ˜¯Spring AIï¼Ÿ"
  }'
```

#### æµå¼è¼¸å‡ºæ¸¬è©¦

```bash
curl -H "Accept: text/event-stream" \
     "http://localhost:8080/api/ai/chat/stream?prompt=ä»‹ç´¹Spring AI"
```

### 4. æ¸¬è©¦å‰ç«¯ç¯„ä¾‹

1. ç¢ºä¿å¾Œç«¯æœå‹™å·²å•Ÿå‹•
2. é–‹å•Ÿç€è¦½å™¨è¨ªå• `frontend-demo/index.html`
3. æ¸¬è©¦åŸºæœ¬ EventSource åŠŸèƒ½
4. é–‹å•Ÿ `frontend-demo/streaming-demo.html`
5. æ¸¬è©¦å®Œæ•´èŠå¤©ä»‹é¢

---

## âš ï¸ æ³¨æ„äº‹é …

### API Key ç®¡ç†

- âŒ **ä¸è¦**å°‡çœŸå¯¦çš„ API Key ç¡¬ç·¨ç¢¼åœ¨ç¨‹å¼ç¢¼ä¸­
- âŒ **ä¸è¦**å°‡åŒ…å«çœŸå¯¦ API Key çš„ .env æª”æ¡ˆæäº¤åˆ° Git
- âœ… **ä½¿ç”¨**ç’°å¢ƒè®Šæ•¸ç®¡ç†æ•æ„Ÿè³‡è¨Š
- âœ… **åƒè€ƒ** .env.example å»ºç«‹æœ¬åœ°çš„ .env æª”æ¡ˆ

### æˆæœ¬æ§åˆ¶

- é–‹ç™¼éšæ®µå»ºè­°ä½¿ç”¨ **Groq**ï¼ˆå…è²»ï¼‰
- æ¸¬è©¦éšæ®µå»ºè­°ä½¿ç”¨ **gpt-4o-mini**ï¼ˆä½æˆæœ¬ï¼‰
- è¨­å®šåˆç†çš„ **max-tokens** é™åˆ¶

### éŒ¯èª¤æ’é™¤

å¦‚æœé‡åˆ°å•é¡Œï¼š

1. **ç·¨è­¯éŒ¯èª¤**ï¼š
   - ç¢ºèª Java ç‰ˆæœ¬æ˜¯ 21
   - åŸ·è¡Œ `mvn clean` æ¸…ç†èˆŠçš„ç·¨è­¯ç”¢å‡º
   - æª¢æŸ¥ç¶²è·¯é€£ç·šï¼ˆä¸‹è¼‰ä¾è³´éœ€è¦ç¶²è·¯ï¼‰

2. **åŸ·è¡ŒéŒ¯èª¤**ï¼š
   - ç¢ºèª OPENAI_API_KEY ç’°å¢ƒè®Šæ•¸å·²è¨­å®š
   - æª¢æŸ¥ API Key æ˜¯å¦æœ‰æ•ˆ
   - æŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ—¥èªŒ

3. **API æ¸¬è©¦å¤±æ•—**ï¼š
   - ç¢ºèªæ‡‰ç”¨ç¨‹å¼å·²æ­£å¸¸å•Ÿå‹•
   - æª¢æŸ¥ç«¯å£ 8080 æ˜¯å¦è¢«å ç”¨
   - ç¢ºèªé˜²ç«ç‰†æ²’æœ‰å°é–é€£ç·š

---

## âœ… çµè«–

ç¬¬å››ç« å¾Œç«¯å°ˆæ¡ˆçš„ Maven ç·¨è­¯æ¸¬è©¦**å®Œå…¨æˆåŠŸ**ï¼š

- âœ… æ‰€æœ‰ Java æª”æ¡ˆç·¨è­¯æˆåŠŸ
- âœ… å°ˆæ¡ˆçµæ§‹å®Œæ•´æ­£ç¢º
- âœ… é…ç½®æª”æ¡ˆæ­£ç¢ºè¤‡è£½
- âœ… ç„¡ç·¨è­¯éŒ¯èª¤æˆ–è­¦å‘Š

å°ˆæ¡ˆå·²æº–å‚™å¥½é€²è¡Œä¸‹ä¸€éšæ®µçš„æ¸¬è©¦ï¼š
1. å–®å…ƒæ¸¬è©¦
2. æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•æ¸¬è©¦
3. API åŠŸèƒ½æ¸¬è©¦
4. å‰ç«¯æ•´åˆæ¸¬è©¦

---

**æ¸¬è©¦äººå“¡**ï¼šClaude Code
**æ¸¬è©¦ç’°å¢ƒ**ï¼šWindows 11
**æ¸¬è©¦æ™‚é–“**ï¼š2025-10-24
**ç‹€æ…‹**ï¼šâœ… ç·¨è­¯æ¸¬è©¦é€šé
